# GitHub Issue Processor - 環境変数設定例
# TonTon (トントン) iOS Health App 用設定

# ===============================================
# GitHub Configuration (必須)
# ===============================================
GITHUB_TOKEN=ghp_your_personal_access_token_here    # ← 実際のGitHub Personal Access Tokenに置き換え
                                                    # 取得方法: GitHub Settings > Developer settings > Personal access tokens

# Issue管理リポジトリ設定
GITHUB_ISSUE_OWNER=hiroshikodera         # ← あなたのGitHub Username/Organization
GITHUB_ISSUE_REPO=tonton                 # ← Issue管理用リポジトリ名

# 修正対象プロジェクトリポジトリ設定（通常は同じリポジトリ）
GITHUB_TARGET_OWNER=hiroshikodera        # ← 修正PR作成先のGitHub Username/Organization  
GITHUB_TARGET_REPO=tonton                # ← 修正PR作成先のリポジトリ名

# ===============================================
# ローカルプロジェクト設定 (必須)
# ===============================================
PROJECT_ROOT=/Users/hiroshikodera/repos/_active/apps/tonton  # ← 実際のプロジェクトパスに調整

# ===============================================
# Claude AI Configuration (オプション)
# ===============================================
# Claude Code CLIを使用するため、通常はAPI KEYは不要
# 直接API使用時のみ以下を設定
# ANTHROPIC_API_KEY=sk-ant-api_key_here

# ===============================================
# 通知設定 (オプション)
# ===============================================
# Slack通知（チーム使用時）
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR_WEBHOOK_HERE

# Email通知
# NOTIFICATION_EMAIL=your-email@example.com

# macOS通知（開発中は推奨）
MACOS_NOTIFICATIONS=true

# ===============================================
# デバッグ・ログ設定
# ===============================================
DEBUG_MODE=false                         # true: デバッグ情報を詳細出力
LOG_LEVEL=info                          # error, warn, info, debug
VERBOSE_LOGGING=false                   # true: 詳細ログ出力

# ===============================================
# パフォーマンス設定
# ===============================================
MAX_CONCURRENT_ISSUES=2                 # 同時処理Issue数（1-5推奨）
CONTEXT_MAX_FILES=15                    # コンテキスト収集最大ファイル数
PROCESSING_TIMEOUT_MS=300000            # 処理タイムアウト（5分）

# ===============================================
# TonTon Health App 固有設定
# ===============================================
HEALTH_APP_MODE=true                    # TonTonヘルスアプリ用最適化
SWIFT_PROJECT=true                      # SwiftUIプロジェクト認識
XCODE_INTEGRATION=true                  # Xcode統合機能有効化

# TonTon特化機能フラグ
HEALTHKIT_VALIDATION=true               # HealthKit統合の検証
AI_MEAL_LOGGING_SUPPORT=true           # AI食事記録機能サポート
CLOUDKIT_SYNC_VALIDATION=true          # CloudKit同期検証
CALORIE_SAVINGS_VALIDATION=true        # カロリー貯金機能検証
SWIFTDATA_MODEL_SUPPORT=true           # SwiftDataモデルサポート

# ===============================================
# 品質・セキュリティ設定
# ===============================================
ENABLE_SWIFTLINT=true                   # SwiftLint実行
ENABLE_BUILD_VALIDATION=true           # ビルド検証
ENABLE_ACCESSIBILITY_CHECK=true        # アクセシビリティチェック
ENABLE_SECURITY_SCAN=true              # セキュリティスキャン

# ===============================================
# 高度な設定 (通常は変更不要)
# ===============================================
# GitHub API設定
GITHUB_API_TIMEOUT=30000               # GitHub API タイムアウト（30秒）
GITHUB_RETRY_ATTEMPTS=3                # GitHub API リトライ回数

# Claude Code CLI設定
CLAUDE_CLI_TIMEOUT=180000              # Claude CLI タイムアウト（3分）
CLAUDE_MAX_CONTEXT_SIZE=32000          # 最大コンテキストサイズ

# Git操作設定
GIT_BRANCH_PREFIX=auto-fix             # 自動修正ブランチのプレフィックス
GIT_COMMIT_TEMPLATE=true               # 標準コミットテンプレート使用

# ===============================================
# 🚀 セットアップ手順
# ===============================================
# 1. このファイルを .env にコピー: cp .env.example .env
# 2. GITHUB_TOKEN を実際のトークンに置き換え
# 3. PROJECT_ROOT を実際のパスに調整（必要に応じて）
# 4. セットアップ検証: pnpm validate
# 5. ドライランテスト: pnpm process:once --dry-run  
# 6. 実際の修正実行: pnpm process:once
# 7. 継続監視開始: pnpm process

# ===============================================
# 📋 必要なGitHub Personal Access Token権限
# ===============================================
# - repo: フルリポジトリアクセス
# - issues: Issue読み書き
# - pull_requests: PR作成・更新